

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Setup pystatis &mdash; pystatis</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=b86133f3" />
      <link rel="stylesheet" type="text/css" href="../_static/css/theme.css?v=e59714d7" />
      <link rel="stylesheet" type="text/css" href="../_static/nbsphinx-code-cells.css?v=2aa19091" />

  
    <link rel="shortcut icon" href="../_static/pystatis_logo.ico"/>
      <script src="../_static/jquery.js?v=5d32c60e"></script>
      <script src="../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="../_static/documentation_options.js?v=e1a677a5"></script>
      <script src="../_static/doctools.js?v=9a2dae69"></script>
      <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
      <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
      <script>window.MathJax = {"tex": {"inlineMath": [["$", "$"], ["\\(", "\\)"]], "processEscapes": true}, "options": {"ignoreHtmlClass": "tex2jax_ignore|mathjax_ignore|document", "processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
      <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="The Table Class" href="01_table.html" />
    <link rel="prev" title="License" href="../license.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html" class="icon icon-home">
            pystatis
              <img src="../_static/pystatis_logo.png" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../install.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../start.html">Getting started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../use.html">Usage</a></li>
<li class="toctree-l1"><a class="reference internal" href="../roadmap.html">Roadmap</a></li>
<li class="toctree-l1"><a class="reference internal" href="../contribute.html">Developer Information</a></li>
<li class="toctree-l1"><a class="reference internal" href="../license.html">License</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Notebooks</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">Setup <code class="docutils literal notranslate"><span class="pre">pystatis</span></code></a></li>
<li class="toctree-l1"><a class="reference internal" href="01_table.html">The <code class="docutils literal notranslate"><span class="pre">Table</span></code> Class</a></li>
<li class="toctree-l1"><a class="reference internal" href="02_geo_visualization_int_students_germany.html">Geovisualization of Data on the Map of Germany</a></li>
<li class="toctree-l1"><a class="reference internal" href="03_find.html">Finding the Right Tables</a></li>
<li class="toctree-l1"><a class="reference internal" href="04_jobs.html">Jobs: Loading Large Tables</a></li>
<li class="toctree-l1"><a class="reference internal" href="05_presentation.html"><code class="docutils literal notranslate"><span class="pre">pystatis</span></code> Presentation for Data Journalists</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Modules</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../pystatis.html">pystatis package</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pystatis.html#module-pystatis">Overall Module contents</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">pystatis</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Setup <code class="docutils literal notranslate"><span class="pre">pystatis</span></code></li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/nb/00_setup.ipynb.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="Setup-pystatis">
<h1>Setup <code class="docutils literal notranslate"><span class="pre">pystatis</span></code><a class="headerlink" href="#Setup-pystatis" title="Link to this heading"></a></h1>
<p>You don’t need to do much to use <code class="docutils literal notranslate"><span class="pre">pystatis</span></code>. Basically, the first time you import the package, it will create a <code class="docutils literal notranslate"><span class="pre">config.ini</span></code> file under <code class="docutils literal notranslate"><span class="pre">~/.pystatis</span></code>. This file is used for storing settings, for example your credentials fpr the supported databases.</p>
<p>To set up your credentials, we need to ask you for your username and password. This is done by the <code class="docutils literal notranslate"><span class="pre">setup_credentials()</span></code> function. It will ask you interactivly for the credentials, or you can set the following environmental variables:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">PYSTATIS_GENESIS_API_USERNAME</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">PYSTATIS_GENESIS_API_PASSWORD</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">PYSTATIS_ZENSUS_API_USERNAME</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">PYSTATIS_ZENSUS_API_PASSWORD</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">PYSTATIS_REGIO_API_USERNAME</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">PYSTATIS_REGIO_API_PASSWORD</span></code></p></li>
</ul>
<p><strong>Note</strong>: Zensus 2022 supports a new authentication method using an API token. This token will be set as your username and the password remains blank so you can use the new token authentication method right away, just use the token as username and leave the password empty.</p>
<p><code class="docutils literal notranslate"><span class="pre">dotenv</span></code> is uses here to load a local <code class="docutils literal notranslate"><span class="pre">.env</span></code> file that contains the above mentioned environmental variables so we don’t have to input them.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[1]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">pathlib</span><span class="w"> </span><span class="kn">import</span> <span class="n">Path</span>

<span class="kn">from</span><span class="w"> </span><span class="nn">dotenv</span><span class="w"> </span><span class="kn">import</span> <span class="n">load_dotenv</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">pystatis</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;pystatis version: &quot;</span><span class="p">,</span> <span class="n">pystatis</span><span class="o">.</span><span class="n">__version__</span><span class="p">)</span>
<span class="n">load_dotenv</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
pystatis version:  0.5.0
</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[1]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
True
</pre></div></div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[2]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># only execute if you want to delete your config file for test purposes</span>
<span class="c1"># pystatis.config.delete_config()</span>
</pre></div>
</div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">init_config</span></code> is called when loading pystatis, so a config with empty credentials will be created in your user home directory by default.</p>
<p>The only thing you have to do is to set up your user credentials.</p>
<p>You can do so either by:</p>
<ol class="arabic simple">
<li><p>specifying the 6 environment variables <code class="docutils literal notranslate"><span class="pre">PYSTATIS_GENESIS_API_USERNAME|PASSWORD</span></code>, <code class="docutils literal notranslate"><span class="pre">PYSTATIS_ZENSUS_API_USERNAME|PASSWORD</span></code>, and <code class="docutils literal notranslate"><span class="pre">PYSTATIS_REGIO_API_USERNAME|PASSWORD</span></code></p></li>
<li><p>calling the function <code class="docutils literal notranslate"><span class="pre">setup_credentials()</span></code> which will guide you through the process</p></li>
</ol>
<p>Even if you do 1. please call <code class="docutils literal notranslate"><span class="pre">setup_credentials()</span></code> once as it will read out the environment variables and write the credentials to the <code class="docutils literal notranslate"><span class="pre">config.ini</span></code> in your config dir.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[2]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">pystatis</span><span class="o">.</span><span class="n">setup_credentials</span><span class="p">()</span>  <span class="c1"># also part of config module</span>
</pre></div>
</div>
</div>
<p>Once you have set up your credentials, they are stored in the <code class="docutils literal notranslate"><span class="pre">config.ini</span></code> and in the <code class="docutils literal notranslate"><span class="pre">config</span></code> object of the <code class="docutils literal notranslate"><span class="pre">config.py</span></code> module. You don’t have to know this as regular user, this is more internal knowledge.</p>
<p><strong>Warning</strong>: The following code will print out the content of your <code class="docutils literal notranslate"><span class="pre">config.ini</span></code> file <strong>with</strong> the credentials set, so please do not share or push this notebook with outputs enabled.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">Path</span><span class="o">.</span><span class="n">home</span><span class="p">()</span> <span class="o">/</span> <span class="s2">&quot;.pystatis&quot;</span> <span class="o">/</span> <span class="s2">&quot;config.ini&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">f</span><span class="o">.</span><span class="n">read</span><span class="p">())</span>
</pre></div>
</div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">profile</span></code> module allows you to change your password (<code class="docutils literal notranslate"><span class="pre">change_password</span></code>).</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># change your password</span>
<span class="n">pystatis</span><span class="o">.</span><span class="n">profile</span><span class="o">.</span><span class="n">change_password</span><span class="p">(</span>
    <span class="n">db_name</span><span class="o">=</span><span class="s2">&quot;genesis&quot;</span><span class="p">,</span> <span class="n">new_password</span><span class="o">=</span><span class="s2">&quot;DoNotUseThisAccidentally&quot;</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="../license.html" class="btn btn-neutral float-left" title="License" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="01_table.html" class="btn btn-neutral float-right" title="The Table Class" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2022, Michael Aydinbas.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>